{% extends 'base.html' %}
{% block content %}

<head>
    <style>
        .col {
            padding : 100px;
            border: 1px solid #8d918a;
            max-width: 50%;
            margin: 5px;
        }

        .btn {
            margin : 5px;
        }

        #content {
            border: 1px solid #8d918a;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
        }

        .form-group {
            margin-top: 10px;
        }
    </style>
</head>

<div class="col" style="background-color: white; border-radius: 5px; margin: 20px;">
    <div class="row">
        <h3>{{ goal.title }}</h3>
    </div>

    <div class="row" id="content">
        <pre>{{ goal.content }}</pre>
    </div>

    <div class="row">
        <div class="form-group">
            <a href="#" data-uri="{{ url_for('goal.done', goal_id=goal.id) }}" class="done btn btn-secondary">완료</a>
            <a href="{{ url_for('goal.modify', goal_id=goal.id) }}" class="btn btn-primary">수정</a>
            <a href="#" data-uri="{{ url_for('goal.delete', goal_id=goal.id) }}" class="delete btn btn-warning">삭제</a>
        </div>
    </div>
</div>
{% endblock %}
{% block script %}
<script type='text/javascript'>
$(document).ready(function(){
    $(".delete").on('click', function() {
        if(confirm("정말로 삭제하시겠습니까?")) {
            location.href = $(this).data('uri');
        }
    });

    $(".done").on('click', function() {
        if(confirm("작업이 완료되었나요?")) {
            location.href = $(this).data('uri');
        }
    });
});
</script>
{% endblock %}
